**Title:** Final Integration Instructions for Promotional Code Functionality

**Project:** MyDentalFly – Quote Builder and Clinic Comparison Platform
**Environment:** Replit (Backend: Node/Express + PostgreSQL, Frontend: React)

---

### **Context and Current Status**

We have successfully implemented the backend infrastructure to support:

* **Promotional Codes** (`promo_tokens`)
* **Special Offers** (`special_offers`)
* **Treatment Packages** (`treatment_packages`)
* Quotes with applied promo codes and related discounts

We have confirmed:

* Database tables exist and are populated with sample data
* API endpoint `/api/v1/quotes/from-promo` works as intended
* Quotes and treatment lines are created correctly when a valid `promoCode` is submitted

However, the **frontend currently does not reflect or interact with** these promotions. The homepage, quote builder, and results pages do not:

* Display active special offers
* Show strikethrough or discounted prices
* Include bonus treatments in the visual quote flow
* Trigger quote creation using a promoCode from the frontend UI

---

### **What Needs to Be Done (Frontend Tasks)**

#### **1. Display Active Special Offers on Homepage and Quote Flow**

* Add API call to `/api/special-offers` on homepage load
* Filter for `is_active: true` and `valid_until >= today`
* Show each offer as a tile/card: title, description, discount %, bonus (if any), CTA (e.g., "Use Offer")

#### **2. Trigger Quote Creation via Promo Code**

* When user selects an offer or enters a promo code:

  * Send `POST` to `/api/v1/quotes/from-promo` with `{ promoCode: "XYZ" }`
  * On success, redirect to `My Quote` page or display the quote summary with treatments

#### **3. Show Updated Quote with Offer Details**

* Display:

  * Discounted prices (show original price struck-through)
  * Bonus treatments if present (e.g., free cleaning)
  * Promo code used (label or badge)

#### **4. Lock Promo Items (Optional UI Feature)**

* If any treatment lines are marked `is_locked = true` in DB, disable edit/delete on frontend
* Tooltip: "Part of locked promotional bundle"

---

### **Stretch Goals (Optional)**

* Show countdown or expiration for each promo (using `valid_until`)
* Highlight clinics with special offers on `MatchedClinicsPage`
* Filter results by promos (e.g., "Show clinics with active offers only")

---

### **Test Promo Codes for Use:**

* `IMPLANTCROWN30` – 30% off Implant + Crown
* `IMPLANTPKG20` – 20% off full implant package with bonus (e.g., free x-ray or cleaning)

---

### **Conclusion**

The backend infrastructure is complete. We now require frontend engineers to connect these features to the user interface so that patients can:

* View active offers
* Apply them during the quote process
* See savings and bonus items in their quote summary

Once implemented, this will dramatically improve conversion rates and user experience.

Raj Singh
Founder, MyDentalFly
