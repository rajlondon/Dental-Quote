Make the pages contextâ€‘aware, not oneâ€‘sizeâ€‘fitsâ€‘all
Right now every user who clicks Next in the wizard is routed to the same next page, even when

weâ€¯already know which clinic they want (Specialâ€¯Offer / Package), or

we already have their personal info in the session.

Thatâ€™s why the journey feels repetitive.
Instead of duplicating whole pages, give the same page component a tiny bit of context so it can skip or reshape itself.

1â€¯Â Carry the â€œentry sourceâ€ through the whole session
After the very first click, attach one flag to the quote object (or to ReactÂ Context):

Source	Flag onÂ quote
Headerâ€‘quote	source="normal"
SpecialÂ Offer card	source="special_offer", offerId=xyz
Package card	source="package", packageId=abc

That single field lets every later page decide what to show or hide.

2â€¯Â Wizard step logic (pseudoâ€‘code)
ts
Copy
Edit
function WizardRouter({ quote }: { quote: Quote }) {
  switch (step) {
    case 'Info':
      // Skip if we already have name+phone and user came from offer/package
      if (quote.source !== 'normal' && hasProfileData(user)) {
        return <Navigate to="TreatmentMap" />;
      }
      return <InfoStep />;

    case 'Results':
      // Skip results for offer/package
      if (quote.source !== 'normal') {
        return <Navigate to={`/portal/quote/${quote.id}/review`} />;
      }
      return <ResultsStep />;
  }
}
3â€¯Â Component tweaks instead of new pages
Page	Normal behaviour	When source="special_offer" or "package"
TreatmentÂ Review	User can remove any line	â€¢ Bonus / package lines are greyed & locked
â€¢ Big banner: â€œğŸ Free Return Flights includedâ€
PortalÂ Dashboard	â€œFinish your quoteâ€ CTA	â€¢ Toast: â€œYour package is readyâ€”upload Xâ€‘rays to confirmâ€
QuoteÂ Summary email	Generic header	â€¢ Subject line includes offer title (â€œFree Flights quote #45â€)

4â€¯Â Routing changes needed (tiny)
Route	Before	After
/wizard/results	Always rendered	Render only if quote.source === "normal"
/portal/quote/:id/review	Reached after results	Reached directly for offer/package

All other pages stay the same; they just read that quote.source flag.

5â€¯Â How to implement quickly in Replit
Add source column to quotes (enum: normal | special_offer | package).

In the POST endpoints that create a quote from an offer/package, populate that column.

Add a little helper in frontâ€‘end context:

ts
Copy
Edit
export function useQuote() {
  const quote = useContext(QuoteContext);
  const isOffer = quote?.source === 'special_offer';
  const isPackage = quote?.source === 'package';
  return { quote, isOffer, isPackage };
}
Gate each step with oneâ€‘liners:

tsx
Copy
Edit
const { isOffer } = useQuote();
if (isOffer && hasProfileData) return <Navigate to="Review" />;
Keep one wizard fileâ€”no forks, no page duplication, just early returns.

Why this beats creating new pages
Less code â†’ fewer bugs, easier styling.

Keeps URL structure identical, so SEO, analytics, and deepâ€‘links donâ€™t multiply.

You can add future sources (e.g. â€œclinic_widgetâ€) by inserting one new enum value and two guard linesâ€”no redesign.

Adopt this â€œcontextâ€‘aware pageâ€ pattern and the user experience will feel tailored without a maze of nearlyâ€‘identical components. Let me know if youâ€™d like code snippets for a specific step, or an update to the architecture diagram to reflect the new flags!







