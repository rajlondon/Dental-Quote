<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MyDentalFly - Promo Code Test Page</title>
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      line-height: 1.6;
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
      color: #333;
    }
    h1 {
      color: #0070f3;
      margin-bottom: 0.5em;
    }
    h2 {
      margin-top: 2em;
      color: #0070f3;
    }
    .card {
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      padding: 20px;
      margin-bottom: 20px;
      border-left: 5px solid #0070f3;
    }
    .code {
      background-color: #f5f5f5;
      padding: 10px;
      border-radius: 4px;
      font-family: 'Courier New', Courier, monospace;
      margin: 10px 0;
    }
    .button {
      display: inline-block;
      background-color: #0070f3;
      color: white;
      padding: 10px 20px;
      border-radius: 4px;
      text-decoration: none;
      margin-top: 10px;
      transition: background-color 0.3s;
    }
    .button:hover {
      background-color: #0051b3;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 8px 12px;
      text-align: left;
    }
    th {
      background-color: #f2f8ff;
    }
    tr:hover {
      background-color: #f5f5f5;
    }
    .status {
      padding: 3px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      font-weight: bold;
    }
    .status.active {
      background-color: #e1f5e1;
      color: #2e7d32;
    }
    .status.inactive {
      background-color: #ffecef;
      color: #c62828;
    }
    .promo-generator {
      background-color: #f5f5f5;
      padding: 20px;
      border-radius: 8px;
      margin-top: 20px;
    }
    .input-group {
      margin-bottom: 15px;
    }
    label {
      display: block;
      margin-bottom: 5px;
    }
    input, select {
      width: 100%;
      padding: 8px;
      border: 1px solid #ddd;
      border-radius: 4px;
    }
    .generated-url {
      word-break: break-all;
    }
  </style>
</head>
<body>
  <h1>MyDentalFly Promo Code Testing</h1>
  <p>This page allows you to test the URL auto-apply functionality for promo codes.</p>

  <h2>Available Promo Codes</h2>
  <div class="card">
    <table>
      <thead>
        <tr>
          <th>Code</th>
          <th>Description</th>
          <th>Discount</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>TESTPROMO25</td>
          <td>Test Promo 25% Off</td>
          <td>25% off</td>
          <td><span class="status active">Active</span></td>
        </tr>
        <tr>
          <td>WELCOME20</td>
          <td>Welcome Discount</td>
          <td>20% off</td>
          <td><span class="status active">Active</span></td>
        </tr>
        <tr>
          <td>FREECONSULT</td>
          <td>Free Consultation Package</td>
          <td>Free consultation</td>
          <td><span class="status active">Active</span></td>
        </tr>
        <tr>
          <td>IMPLANTCROWN30</td>
          <td>Dental Implant + Crown Bundle</td>
          <td>30% off bundle</td>
          <td><span class="status active">Active</span></td>
        </tr>
        <tr>
          <td>LUXHOTEL20</td>
          <td>Premium Hotel Deal</td>
          <td>20% off hotel</td>
          <td><span class="status active">Active</span></td>
        </tr>
        <tr>
          <td>LUXTRAVEL</td>
          <td>Luxury Airport Transfer</td>
          <td>Free transfer</td>
          <td><span class="status active">Active</span></td>
        </tr>
        <tr>
          <td>FREEWHITE</td>
          <td>Free Teeth Whitening</td>
          <td>Free whitening</td>
          <td><span class="status active">Active</span></td>
        </tr>
        <tr>
          <td>INVALIDCODE</td>
          <td>Invalid Code (for testing)</td>
          <td>N/A</td>
          <td><span class="status inactive">Invalid</span></td>
        </tr>
      </tbody>
    </table>
  </div>

  <h2>Test URLs</h2>
  <div class="card">
    <p>Click on any of the following links to test the promo code auto-apply functionality:</p>
    
    <h3>Valid Codes</h3>
    <div class="code">
      <p><a href="/quote?code=TESTPROMO25" class="button">Test 25% Promo</a></p>
      <p><a href="/quote?code=WELCOME20" class="button">Welcome 20% Off</a></p>
      <p><a href="/quote?code=FREECONSULT" class="button">Free Consultation</a></p>
    </div>

    <h3>With Treatments</h3>
    <div class="code">
      <p><a href="/quote?treatment=dental_implant&code=IMPLANTCROWN30" class="button">Implant with 30% Off</a></p>
      <p><a href="/quote?treatment=porcelain_veneers&code=FREEWHITE" class="button">Veneers with Free Whitening</a></p>
    </div>

    <h3>Invalid Codes (Error Testing)</h3>
    <div class="code">
      <p><a href="/quote?code=INVALIDCODE" class="button">Invalid Code</a></p>
      <p><a href="/quote?code=EXPIRED" class="button">Expired Code</a></p>
    </div>
  </div>

  <h2>URL Generator</h2>
  <div class="promo-generator">
    <p>Generate a custom promo code URL for testing:</p>
    
    <div class="input-group">
      <label for="promo-code">Promo Code:</label>
      <input type="text" id="promo-code" placeholder="e.g., TESTPROMO25">
    </div>
    
    <div class="input-group">
      <label for="treatment">Treatment (optional):</label>
      <select id="treatment">
        <option value="">-- No Treatment --</option>
        <option value="dental_implant">Dental Implant</option>
        <option value="porcelain_veneers">Porcelain Veneers</option>
        <option value="teeth_whitening">Teeth Whitening</option>
        <option value="dental_crowns">Dental Crowns</option>
        <option value="full_mouth_reconstruction">Full Mouth Reconstruction</option>
      </select>
    </div>
    
    <div class="input-group">
      <button onclick="generateUrl()" class="button">Generate URL</button>
    </div>
    
    <div class="code generated-url" id="generated-url"></div>
    <div id="generated-link"></div>
  </div>

  <script>
    function generateUrl() {
      const promoCode = document.getElementById('promo-code').value;
      const treatment = document.getElementById('treatment').value;
      
      let url = '/quote?';
      if (promoCode) {
        url += `code=${encodeURIComponent(promoCode)}`;
        if (treatment) {
          url += `&treatment=${encodeURIComponent(treatment)}`;
        }
      } else if (treatment) {
        url += `treatment=${encodeURIComponent(treatment)}`;
      }
      
      document.getElementById('generated-url').textContent = url;
      document.getElementById('generated-link').innerHTML = `<a href="${url}" class="button">Test Generated URL</a>`;
    }
  </script>
</body>
</html>