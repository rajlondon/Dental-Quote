{% extends 'base.html' %}

{% block title %}MyDentalFly - Special Offers{% endblock %}

{% block content %}
<div class="container py-5">
    <!-- Page Header -->
    <div class="text-center mb-5">
        <h1 class="display-5 fw-bold mb-3">Special Offers & Promotions</h1>
        <p class="lead text-muted mx-auto" style="max-width: 700px;">Take advantage of our limited-time special offers and save even more on your dental treatment in Turkey.</p>
    </div>
    
    <!-- Promotions Grid -->
    <div class="row g-4">
        {% if promotions %}
            {% for promo in promotions %}
            <div class="col-md-6 col-lg-4">
                <div class="card promo-card h-100">
                    {% if promo.banner_image %}
                    <img src="{{ promo.banner_image }}" class="card-img-top" alt="{{ promo.title }}">
                    {% else %}
                    <img src="{{ url_for('static', filename='images/promos/default.jpg') }}" class="card-img-top" alt="{{ promo.title }}">
                    {% endif %}
                    
                    <div class="card-body">
                        <h2 class="card-title h5">{{ promo.title }}</h2>
                        <p class="card-text">{{ promo.description }}</p>
                        
                        {% if promo.discount_type == 'percentage' %}
                        <div class="mb-3">
                            <span class="badge bg-primary">{{ promo.discount_value }}% Off</span>
                        </div>
                        {% else %}
                        <div class="mb-3">
                            <span class="badge bg-primary">${{ promo.discount_value }} Off</span>
                        </div>
                        {% endif %}
                        
                        {% if promo.applicable_treatments %}
                        <div class="mb-3">
                            <p class="mb-1 fw-bold small">Applicable Treatments:</p>
                            <ul class="small ps-3">
                                {% for treatment in promo.applicable_treatments %}
                                <li>{{ treatment }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                        {% endif %}
                        
                        {% if promo.terms_conditions %}
                        <div class="mb-3">
                            <p class="small text-muted fst-italic">{{ promo.terms_conditions }}</p>
                        </div>
                        {% endif %}
                    </div>
                    
                    <div class="card-footer bg-white border-0">
                        <a href="{{ url_for('page_routes.quote_builder') }}?promo={{ promo.promo_code }}" class="btn btn-primary w-100">Get This Offer</a>
                    </div>
                </div>
            </div>
            {% endfor %}
        {% else %}
            <div class="col-12">
                <div class="alert alert-info">
                    <p class="mb-0">No special offers are currently available. Please check back later for new promotions.</p>
                </div>
            </div>
        {% endif %}
    </div>
    
    <!-- How It Works Section -->
    <div class="mt-5 pt-5">
        <div class="text-center mb-5">
            <h2>How to Redeem Your Special Offer</h2>
            <p class="text-muted">Follow these simple steps to take advantage of our special offers.</p>
        </div>
        
        <div class="row g-4">
            <div class="col-md-3">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body text-center p-4">
                        <div class="rounded-circle bg-primary d-flex align-items-center justify-content-center mx-auto mb-4" style="width: 60px; height: 60px;">
                            <span class="text-white fw-bold fs-4">1</span>
                        </div>
                        <h3 class="h5 mb-3">Select an Offer</h3>
                        <p class="card-text text-muted small">Choose the special offer that best suits your dental needs.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body text-center p-4">
                        <div class="rounded-circle bg-primary d-flex align-items-center justify-content-center mx-auto mb-4" style="width: 60px; height: 60px;">
                            <span class="text-white fw-bold fs-4">2</span>
                        </div>
                        <h3 class="h5 mb-3">Build Your Quote</h3>
                        <p class="card-text text-muted small">Select your treatments in our interactive quote builder.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body text-center p-4">
                        <div class="rounded-circle bg-primary d-flex align-items-center justify-content-center mx-auto mb-4" style="width: 60px; height: 60px;">
                            <span class="text-white fw-bold fs-4">3</span>
                        </div>
                        <h3 class="h5 mb-3">Add Your Details</h3>
                        <p class="card-text text-muted small">Provide your contact information to complete your quote.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body text-center p-4">
                        <div class="rounded-circle bg-primary d-flex align-items-center justify-content-center mx-auto mb-4" style="width: 60px; height: 60px;">
                            <span class="text-white fw-bold fs-4">4</span>
                        </div>
                        <h3 class="h5 mb-3">Receive Your Quote</h3>
                        <p class="card-text text-muted small">Review your personalized quote with the special offer discount applied.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- FAQ Section -->
    <div class="mt-5 pt-5">
        <div class="text-center mb-5">
            <h2>Frequently Asked Questions</h2>
            <p class="text-muted">Find answers to common questions about our special offers.</p>
        </div>
        
        <div class="row">
            <div class="col-lg-10 mx-auto">
                <div class="accordion" id="faqAccordion">
                    <div class="accordion-item">
                        <h3 class="accordion-header" id="faqHeading1">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapse1" aria-expanded="true" aria-controls="faqCollapse1">
                                Can I combine multiple offers?
                            </button>
                        </h3>
                        <div id="faqCollapse1" class="accordion-collapse collapse show" aria-labelledby="faqHeading1" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                No, special offers cannot be combined with other promotions or discounts. Only one offer can be applied to a quote at a time.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h3 class="accordion-header" id="faqHeading2">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapse2" aria-expanded="false" aria-controls="faqCollapse2">
                                How long are these offers valid?
                            </button>
                        </h3>
                        <div id="faqCollapse2" class="accordion-collapse collapse" aria-labelledby="faqHeading2" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Each offer has its own validity period as indicated in the offer details. Some offers are available for a limited time only, so we recommend taking advantage of them as soon as possible.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h3 class="accordion-header" id="faqHeading3">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapse3" aria-expanded="false" aria-controls="faqCollapse3">
                                Do I need to pay anything upfront?
                            </button>
                        </h3>
                        <div id="faqCollapse3" class="accordion-collapse collapse" aria-labelledby="faqHeading3" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                No, getting a quote with a special offer applied is completely free and with no obligation. You only pay when you decide to proceed with your treatment.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h3 class="accordion-header" id="faqHeading4">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapse4" aria-expanded="false" aria-controls="faqCollapse4">
                                What if I have a promo code instead?
                            </button>
                        </h3>
                        <div id="faqCollapse4" class="accordion-collapse collapse" aria-labelledby="faqHeading4" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                If you have a promo code, you can enter it directly in the quote builder page. The discount will be automatically applied to your quote.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Call to Action -->
    <div class="mt-5 pt-4 text-center">
        <div class="card border-0 bg-primary text-white p-5 shadow">
            <div class="card-body py-5">
                <h2 class="mb-4">Don't Wait - These Offers Won't Last Forever!</h2>
                <p class="lead mb-4">Take advantage of our special offers and start your journey to affordable, high-quality dental care in Turkey today.</p>
                <a href="{{ url_for('page_routes.quote_builder') }}" class="btn btn-light btn-lg px-5">Build Your Quote Now</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}