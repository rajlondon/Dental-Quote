{% extends "base.html" %}

{% block title %}Quote Confirmed | MyDentalFly{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
            <div class="card shadow-lg border-success mb-5">
                <div class="card-body p-5 text-center">
                    <div class="mb-4">
                        <div class="d-inline-flex align-items-center justify-content-center bg-success bg-opacity-10 rounded-circle p-4 mb-4">
                            <i class="fas fa-check-circle text-success fa-4x"></i>
                        </div>
                        <h1 class="fw-bold mb-3">Thank You!</h1>
                        <p class="lead mb-0">Your dental treatment quote has been successfully confirmed.</p>
                    </div>
                    
                    <div class="alert alert-success mb-4">
                        <p class="fw-bold mb-1">Quote Reference: #{{ quote_id }}</p>
                        <p class="mb-0">A copy of your quote has been sent to {{ patient_info.email if patient_info else 'your email address' }}</p>
                    </div>
                    
                    <div class="row justify-content-center mb-5">
                        <div class="col-md-8">
                            <div class="d-grid gap-3">
                                <a href="{{ url_for('download_quote_pdf', quote_id=quote_id) }}" class="btn btn-primary" target="_blank">
                                    <i class="fas fa-file-pdf me-2"></i> Download Quote as PDF
                                </a>
                                {% if quote_id %}
                                    <a href="{{ url_for('view_quote', quote_id=quote_id) }}" class="btn btn-outline-primary">
                                        <i class="fas fa-eye me-2"></i> View Quote Details
                                    </a>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    
                    <div class="row g-4 text-start mb-5">
                        <div class="col-md-6">
                            <div class="card h-100 border-0 bg-light">
                                <div class="card-body">
                                    <h5 class="card-title fw-bold">
                                        <i class="fas fa-calendar-alt text-primary me-2"></i> Next Steps
                                    </h5>
                                    <ul class="ps-3 mb-0">
                                        <li class="mb-2">A dental tourism specialist will contact you within 24 hours to discuss your quote</li>
                                        <li class="mb-2">Schedule a free virtual consultation with your chosen clinic</li>
                                        <li class="mb-2">Confirm your travel dates and book your appointment</li>
                                        <li>Receive pre-treatment instructions and travel recommendations</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card h-100 border-0 bg-light">
                                <div class="card-body">
                                    <h5 class="card-title fw-bold">
                                        <i class="fas fa-headset text-primary me-2"></i> Support
                                    </h5>
                                    <p>Our dedicated support team is available to answer any questions you might have about your quote or dental tourism process.</p>
                                    <div class="d-flex align-items-center mt-3">
                                        <i class="fas fa-envelope text-primary me-2"></i>
                                        <span>support@mydentalfly.com</span>
                                    </div>
                                    <div class="d-flex align-items-center mt-2">
                                        <i class="fas fa-phone text-primary me-2"></i>
                                        <span>+44 20 1234 5678</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="border-top pt-4">
                        <h5 class="fw-bold mb-3">More Ways to Save on Dental Care</h5>
                        <div class="row g-3">
                            <div class="col-md-4">
                                <div class="card h-100 hover-shadow">
                                    <div class="card-body text-center">
                                        <i class="fas fa-user-friends text-primary fa-2x mb-3"></i>
                                        <h6 class="card-title">Refer a Friend</h6>
                                        <p class="card-text small">Get €50 off your next treatment when you refer a friend</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="card h-100 hover-shadow">
                                    <div class="card-body text-center">
                                        <i class="fas fa-calendar-plus text-primary fa-2x mb-3"></i>
                                        <h6 class="card-title">Book Package Deal</h6>
                                        <p class="card-text small">Save up to 15% when booking treatment and accommodation together</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="card h-100 hover-shadow">
                                    <div class="card-body text-center">
                                        <i class="fas fa-thumbs-up text-primary fa-2x mb-3"></i>
                                        <h6 class="card-title">Leave a Review</h6>
                                        <p class="card-text small">Get €25 credit for your next treatment when you share your experience</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="text-center">
                <h4 class="fw-bold mb-4">Frequently Asked Questions</h4>
                <div class="accordion mb-5" id="faqAccordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingOne">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                How long is my quote valid for?
                            </button>
                        </h2>
                        <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                <p class="mb-0">Your quote is valid for 30 days from today. After this period, prices may be subject to change due to currency fluctuations or clinic rate updates. If you need to extend the validity of your quote, please contact our support team.</p>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTwo">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                How do I schedule my treatment?
                            </button>
                        </h2>
                        <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                <p class="mb-0">One of our dental tourism specialists will contact you within 24 hours to discuss your quote and help you schedule your treatment. They will coordinate with the clinic to find suitable dates based on your availability and the treatment plan. You can also log in to your MyDentalFly account to view available appointment slots and request specific dates.</p>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingThree">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                Do I need to pay a deposit?
                            </button>
                        </h2>
                        <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                <p class="mb-0">Yes, a 20% deposit is required to secure your booking and appointment dates. The deposit is fully refundable if canceled at least 14 days before your scheduled appointment. The remaining balance can be paid at the clinic before your treatment begins. Payment options include credit card, bank transfer, or cash in local currency.</p>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingFour">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                Can I modify my treatment plan?
                            </button>
                        </h2>
                        <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                <p class="mb-0">Yes, your treatment plan can be modified based on the initial in-person consultation at the clinic. The dentist may recommend additional or alternative treatments based on your oral health assessment. Any changes to the treatment plan will be discussed with you, and an updated quote will be provided for your approval before proceeding with treatment.</p>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingFive">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                                What if I need to cancel my trip?
                            </button>
                        </h2>
                        <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                <p class="mb-0">If you need to cancel your dental tourism trip, please notify us as soon as possible. Cancellations made 14 or more days before your scheduled appointment are eligible for a full refund of your deposit. Cancellations made less than 14 days before your appointment may be subject to cancellation fees. If you need to reschedule rather than cancel, we will work with you to find alternative dates with no additional fees.</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <a href="{{ url_for('index') }}" class="btn btn-primary">
                    <i class="fas fa-home me-2"></i> Return to Homepage
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
.hover-shadow {
  transition: all 0.3s ease;
}
.hover-shadow:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 20px rgba(0,0,0,0.1);
}
{% endblock %}